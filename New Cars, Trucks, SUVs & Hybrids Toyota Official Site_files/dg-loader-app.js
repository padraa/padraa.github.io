/**
* Â© 2018 Toyota Motor Sales, U.S.A., Inc.
*/
!function a(n,r,i){function s(t,e){if(!r[t]){if(!n[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(c)return c(t,!0);throw(o=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",o}o=r[t]={exports:{}},n[t][0].call(o.exports,function(e){return s(n[t][1][e]||e)},o,o.exports,a,n,r,i)}return r[t].exports}for(var c="function"==typeof require&&require,e=0;e<i.length;e++)s(i[e]);return s}({1:[function(e,t,o){t.exports={dgSpasMain:"dg-spas-main",wsApp:"ws-app",dgApp:"dg-app",dgComponentMain:"dg-component-main"}},{}],2:[function(e,t,o){var a={TOYOTA:"toyota",LEXUS:"lexus"};Object.freeze(a),t.exports=a},{}],3:[function(e,t,o){var a={Toyota:{T1:"toyota.com",T2:"buyatoyota.com"},Lexus:{T1:"lexus.com"},local:"local",none:"none"};Object.freeze(a),t.exports=a},{}],4:[function(e,t,o){const a=e("merge"),n=e("../utilities/generateGuid"),r=e("../utilities/getDeployEnv"),i=e("../constants/brands"),s=e("../utilities/client/isLexus");t.exports={GARAGE_EXPECTED:{dgid:"",timeCreated:1489655843531,items:{},notifications:{},onboarding:{owned:"",offer:"",build:"",search:"",inv:""},optOutEmail:!1,optOutText:!1,canShow:!1,showSmartPathModal:!0,showProgressTrackerOnboarding:!0},Garage:class{constructor(e){if(!e)throw new Error("Garage constructor called with no parameters");let t;try{t=localStorage.getItem(`dgid_${r}`)||n()}catch(e){t=n()}this.dgid=t,this.timeCreated=Date.now(),this.name=null,this.tokenExpiry=null,this.hasBeenNotifiedOfExpiringToken=!1,this.toyotaActiveDealer={dealerCd:"Toyota",brand:i.TOYOTA,changeTime:Date.now(),name:null,isGxp:!1,url:"https://www.toyota.com"},this.lexusActiveDealer={dealerCd:"Lexus",brand:i.LEXUS,changeTime:Date.now(),name:null,isGxp:!1,url:"https://www.lexus.com"},this.dealers={Toyota:{dealerCd:i.TOYOTA,changeTime:Date.now(),name:null,isGxp:!1,brand:"Toyota",url:"https://www.toyota.com"},Lexus:{dealerCd:"Lexus",brand:i.LEXUS,changeTime:Date.now(),name:null,isGxp:!1,url:"https://www.lexus.com"}},this.items={},this.notifications={},this.onboarding={owned:"new",offer:"new",build:"new",search:"new",inv:"new"},this.optOutEmail=!1,this.optOutText=!1,this.canShow=!1,this.showSmartPathModal=!0,this.showProgressTrackerOnboarding=!0,this.sharedSavesDealers={},this.submittedEstimateLeadDealers={},this.epriceUnlockedDealers={},a.recursive(this,e),this.activeDealer&&!e.toyotaActiveDealer&&(this.activeDealer.brand&&(this.activeDealer.brand.toLowerCase()===i.TOYOTA.toLowerCase()?this.toyotaActiveDealer=this.activeDealer:this.activeDealer.brand.toLowerCase()===i.LEXUS.toLowerCase()&&(this.lexusActiveDealer=this.activeDealer)),delete this.activeDealer),s()?this.activeDealer=this.lexusActiveDealer:this.activeDealer=this.toyotaActiveDealer,this.exportJson=this.exportJson.bind(this)}exportJson(){const e={};for(const t of Object.keys(this))this.hasOwnProperty(t)&&"function"!=typeof this[t]&&"name"!==t&&"tokenExpiry"!==t&&(e[t]=this[t]);return e}}}},{"../constants/brands":2,"../utilities/client/isLexus":9,"../utilities/generateGuid":14,"../utilities/getDeployEnv":16,merge:21}],5:[function(e,t,o){const a=e("../utilities/getDeployEnv");t.exports=class{constructor(e){if(!e)throw new Error("Logger constructor called with no module name");this.moduleName=e,this.debug=this.debug.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}debug(...e){"prod"!==a&&"demo"!==a&&window.console.log(`${this.moduleName}: `,...e)}info(...e){"prod"!==a&&window.console.info(`${this.moduleName}: `,...e)}warn(...e){window.console.warn(`${this.moduleName}: `,...e)}error(...e){window.console.error(`${this.moduleName}: `,...e)}}},{"../utilities/getDeployEnv":16}],6:[function(e,t,o){const a=e("../../constants/brands"),n=e("../../models/Logger");t.exports=(e="dg-commons-library")=>{const t=new n(e);let o;e="undefined"!=typeof window&&window;if(o=e&&window.DGDataHub&&window.DGDataHub.BRAND?window.DGDataHub.BRAND:a.TOYOTA,e=o,a[e.toUpperCase()])return o.toLowerCase();e=`Error: Unsupported brand specified. Please specify one of these values: ${Object.keys(a).map(e=>a[e]).join(", ")}.`;throw t.error(e),new Error(e)}},{"../../constants/brands":2,"../../models/Logger":5}],7:[function(e,t,o){t.exports=function(){let e;if("undefined"!=typeof window&&window.location&&window.location.host){var t=window.location.host.split(".");return 1<t.length?(e=`${t[t.length-2]}.${t[t.length-1]}`,e):(e=t[0]||"localhost",e)}return null}},{}],8:[function(e,t,o){const a=e("./getPageOrigin"),n=e("./../../constants/tierSites");t.exports=function(){return a()===n.Toyota.T2}},{"./../../constants/tierSites":3,"./getPageOrigin":7}],9:[function(e,t,o){const a=e("./getBrand"),n=e("../../constants/brands.js");t.exports=function(e){return(e&&"string"==typeof e?e.toLowerCase():a())===n.LEXUS}},{"../../constants/brands.js":2,"./getBrand":6}],10:[function(e,t,o){const a=e("./getPageOrigin"),n=e("./../../constants/tierSites");t.exports=function(){return a()===n.Toyota.T1}},{"./../../constants/tierSites":3,"./getPageOrigin":7}],11:[function(e,t,o){const r=e("./isTCOM"),i=e("./isBuyAToyota"),s=e("./getPageOrigin");t.exports=function(){var e=s(),t=r(),o=i();let a=!1;var n="localhost"===e,e=n&&window.DGDataHub&&window.DGDataHub.isLocalTier3;return t||o||n&&!e||(a=!0),a}},{"./getPageOrigin":7,"./isBuyAToyota":8,"./isTCOM":10}],12:[function(e,t,o){const a=e("../getDeployEnv"),n=e("../getCookie");function u(e,t){const o=RegExp("api.(\\w+.)?dg");o.test(e)&&(window.DGDataHub&&window.DGDataHub.dgid?t.setRequestHeader("dgid",window.DGDataHub.dgid):(t=t,n(`dgid_${a}`)?t.setRequestHeader("dgid",n(`dgid_${a}`)):window.localStorage&&window.localStorage.getItem(`dgid_${a}`)&&t.setRequestHeader("dgid",window.localStorage.getItem(`dgid_${a}`))))}t.exports=function c(d,l){return new Promise(function(o,a){try{const n=l||1;let e=d.method;e=e||"GET";const r=d.url;if(!r)return void a("No URL provided to request service");const i=new XMLHttpRequest;i.open(e,r,!0),i.withCredentials=!!d.withCredentials,i.onload=function(){var e={data:i.response,status:i.status};(200<=e.status&&e.status<400?o:a)(e)},i.onerror=function(){n<3?c(d,n+1).then(e=>{o(e)}).catch(e=>{a(e)}):a(`Could not perform a ${e} on URL ${r}`)},d.contentType&&i.setRequestHeader("Content-Type",`${d.contentType}; charset=UTF-8`);let t=!1;for(const s of d.headers||[])"dgid"===s.name&&(t=!0);t||u(r,i),d.headers&&d.headers.length&&d.headers.forEach(function(e){e.name&&e.name.length&&e.value&&i.setRequestHeader(e.name,e.value)}),d.accept?i.setRequestHeader("Accept",d.accept):i.setRequestHeader("Accept","*/*"),i.send(d.data)}catch(e){a(e)}})}},{"../getCookie":15,"../getDeployEnv":16}],13:[function(e,t,o){t.exports=function(e){const t=new Event("showMyAccount");if(t.shouldShowMyAccount=e,window&&window.document){const o=document.getElementById("dg-component-nav-menu-desktop");o&&o.dispatchEvent(t),window.DGDataHub&&(window.DGDataHub.shouldShowMyAccount=e)}}},{}],14:[function(e,t,o){t.exports=function(){return"xxxxxxxx-xxxx-4xxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,function(e){let t=16*Math.random()|0,o="x"===e?t:3&t|8;return o.toString(16)})}},{}],15:[function(e,t,o){t.exports=function(e){if(window&&window.document&&window.document.cookie){var o=`${e}=`;const t=decodeURIComponent(window.document.cookie);var a=t.split(";");for(let t=0;t<a.length;t++){let e=a[t];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(o))return e.substring(o.length,e.length)}return""}return""}},{}],16:[function(e,o,t){!function(t){!function(){let e="";e=("undefined"==typeof window?t.env:window.DGDataHub).DEPLOY_ENV,o.exports=e}.call(this)}.call(this,e("_process"))},{_process:22}],17:[function(e,t,o){var a=e("./getDeployEnv");const n=e("@digital-garage/dg-commons-library/src/utilities/client/getBrand");t.exports=function(e){const t={deployEnv:e};switch(e){case"prod":t.host="api.dg.toyota.com",t.cdn="cdn.dg.toyota.com",t.rticHost="api.rtic.toyota.com";break;case"local":return(o={deployEnv:"local",host:"localhost"}).garageUrl=`http://${o.host}:8081/garage/`,o.libUrl=`http://${o.host}:3000/dist/deploy/{{name}}.min.js`,o.compUrl=`http://${o.host}:3050/dist/deploy/{{name}}-${n()}.min.js`,o.spaUrl=`http://${o.host}:3060/dist/deploy/{{name}}-${n()}.min.js`,o.wsUrl=`http://${o.host}:3030/dist/{{name}}.min.js`,o.rticHost="https://api.stage.rtic.toyota.com",o.disUrl=`https://${o.rticHost}/api/dealer/`,o.analyticsUrl="https://nexus.ensighten.com/toyotanational/stage/Bootstrap.js",o;default:t.host=`api.${e}.dg.toyota.com`,t.cdn=`cdn.${e}.dg.toyota.com`,t.rticHost=`api.${e}.rtic.toyota.com`}var o;return t.garageUrl=`https://${t.host}/garage/`,t.compUrl=`https://${t.cdn}/deploy/dg-components/{{version}}/deploy/{{name}}-${n()}.min.js`,t.spaUrl=`https://${t.cdn}/deploy/dg-pages/{{version}}/deploy/{{name}}-${n()}.min.js`,t.wsUrl=`https://${t.cdn}/deploy/websocket-library/{{version}}/{{name}}.min.js`,t.disUrl=`https://${t.rticHost}/api/dealer/`,t.analyticsUrl="https://nexus.ensighten.com/toyotanational/stage/Bootstrap.js",t}(a)},{"./getDeployEnv":16,"@digital-garage/dg-commons-library/src/utilities/client/getBrand":6}],18:[function(e,t,o){t.exports=function(e){var t=!isNaN(e);return"string"==typeof e&&5===e.length&&t}},{}],19:[function(e,t,o){const{Garage:a,GARAGE_EXPECTED:n}=e("../models/Garage"),r=e("./validateReqs");t.exports=function(e){return r(e,n),new a(e)}},{"../models/Garage":4,"./validateReqs":20}],20:[function(e,t,o){const r=Object.prototype.toString.call({}),i=Object.prototype.toString.call([]),s=function(e){const t={};for(const o of Object.keys(e))e.hasOwnProperty(o)&&(t[o]=Object.prototype.toString.call(e[o]));return t};function c(e,t){var o=s(t);const a=["drivetrains","cabs","beds"];for(const n of Object.keys(o))if(!a.includes(n)){if(!e.hasOwnProperty(n))throw new Error(`Save input does not have property "${n}"`);if(Object.prototype.toString.call(e[n])!==o[n])throw new Error(`Save input property ${n} must be of type ${o[n]}`);Object.prototype.toString.call(e[n])===i&&0<e[n].length?function(e,o,a){var t=Object.prototype.toString.call(o[0]);if(Object.prototype.toString.call(e[0])!==t)throw new Error(`Entries in save input array property ${a} must be of type ${t}`);if(t===r)for(let t=0;t<e.length;t++)try{c(e[t],o[0])}catch(e){throw new Error(`${e.message} at index ${t} of array ${a}`)}}(e[n],t[n],n):o[n]===r&&c(e[n],t[n])}}t.exports=c},{}],21:[function(e,t,o){function a(e,t,o){var a=o[0],n=o.length;!e&&"object"===d(a)||(a={});for(var r=0;r<n;++r){var i,s=o[r];if("object"===d(s))for(var c in s)"__proto__"!==c&&(i=e?l.clone(s[c]):s[c],a[c]=t?function e(t,o){if("object"!==d(t))return o;for(var a in o)"object"===d(t[a])&&"object"===d(o[a])?t[a]=e(t[a],o[a]):t[a]=o[a];return t}(a[c],i):i)}return a}function d(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var n,l;n="object"==typeof t&&t&&"object"==typeof t.exports&&t.exports,(l=function(e){return a(!0===e,!1,arguments)}).recursive=function(e){return a(!0===e,!0,arguments)},l.clone=function(e){var t,o,a=e,n=d(e);if("array"===n)for(a=[],o=e.length,t=0;t<o;++t)a[t]=l.clone(e[t]);else if("object"===n)for(t in a={},e)a[t]=l.clone(e[t]);return a},n?t.exports=l:window.merge=l},{}],22:[function(e,t,o){var a,n,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(a===setTimeout)return setTimeout(t,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:r}catch(e){a=r}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,d=[],l=!1,u=-1;function g(){l&&c&&(l=!1,c.length?d=c.concat(d):u=-1,d.length&&p())}function p(){if(!l){var e=s(g);l=!0;for(var t=d.length;t;){for(c=d,d=[];++u<t;)c&&c[u].run();u=-1,t=d.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function w(e,t){this.fun=e,this.array=t}function h(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];d.push(new w(e,t)),1!==d.length||l||s(p)},w.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],23:[function(e,t,o){"use strict";var a={INTEGRATION_NAME:"toyota-smartpath",DEALER_EVENT_NAME:"dealership-info-v1",PAGE_EVENT_NAME:"page-load-v1",SAVES_PAGE:{ALIAS:"SMARTPATH_DIGITAL_GARAGE_SAVES",DEFAULT_PATH:"/digital-garage/saves.htm",LOOKUP_KEY:"savesUrl"},DEALS_PAGE:{ALIAS:"SMARTPATH_DIGITAL_GARAGE_DEALS",DEFAULT_PATH:"/digital-garage/deals.htm",LOOKUP_KEY:"dealsUrl"},REDIRECT_PAGE:{ALIAS:"SMARTPATH_DIGITAL_GARAGE_REDIRECT",DEFAULT_PATH:"/digital-garage/redirect.htm",LOOKUP_KEY:"redirectUrl"}};Object.freeze(a),t.exports=a},{}],24:[function(n,e,t){"use strict";const o=n("./constants/ddc"),r=async(e,o)=>new Promise(t=>{e.subscribe(o,e=>{t(e)})});e.exports={initializeDGDataHub:async()=>{window.DGDataHub={DEPLOY_ENV:(()=>{const e=document.querySelector("[src*=dg-loader-app]").src;return e.includes("demo")?"demo":e.includes("stage")||e.includes("localhost")?"stage":e.includes("test")?"test":e.includes("dev")?"dev":"prod"})(),components:{"dg-nav-menu":!0,"dg-progress-tracker":!0,"dg-inline-saves":!1,"dg-toast-notification":!0},appVersions:{"dg-components":"1.0","dg-component-main":"1.0","ws-app":"1.0"},invertNavMenuIcons:!1,sidebarSettings:{display:!0},continuePageLoad:function(){},loadNewDealer:function(){}};var e=await window.DDC.APILoader.create(document.currentScript||o.INTEGRATION_NAME);await(async e=>{e=await e.utils.getConfig();window.DGDataHub.pageRoutes={savesRoute:e[o.SAVES_PAGE.LOOKUP_KEY]||o.SAVES_PAGE.DEFAULT_PATH,dealsRoute:e[o.DEALS_PAGE.LOOKUP_KEY]||o.DEALS_PAGE.DEFAULT_PATH,loginDataParserRoute:e[o.REDIRECT_PAGE.LOOKUP_KEY]||o.REDIRECT_PAGE.DEFAULT_PATH}})(e),await(async e=>{e=await r(e,o.DEALER_EVENT_NAME);window.DGDataHub.dealerCd=e.payload.dealershipCodes.toyota_smartpath})(e);var a,t=await r(e,o.PAGE_EVENT_NAME);window.DGDataHub.brand=t.payload.franchises[0],"mobile"===t.payload.layoutType&&(window.DGDataHub.invertNavMenuIcons=!0),t.payload.pageName===o.SAVES_PAGE.ALIAS||t.payload.pageName===o.DEALS_PAGE.ALIAS?(a=e,window.DGDataHub.appVersions["dg-spas-main"]="1.0",await new Promise(o=>{a.insert("content",e=>{const t=document.createElement("div");t.id="dg-pages-container",a.append(e,t),o()})})):t.payload.pageName===o.REDIRECT_PAGE.ALIAS&&(()=>{const e=n("@digital-garage/dg-commons-library/src/utilities/getLoaderScriptEnvironmentVariables");var t=e.compUrl.replace("{{version}}","1.0").replace("{{name}}","dg-login-data-parser");const o=window.document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t),window.document.body.appendChild(o)})()}}},{"./constants/ddc":23,"@digital-garage/dg-commons-library/src/utilities/getLoaderScriptEnvironmentVariables":17}],25:[function(i,e,t){"use strict";!async function(){if(window.DDC)try{const t=i("./ddcService");await t.initializeDGDataHub()}catch(e){console.error("there was an error initializing dataHub with DDC API"),console.error(e)}const e=i("./utils/currentlyOnLoginDataParserPage");if(!e()){const o=i("@digital-garage/dg-commons-library/src/models/Logger"),a=new o("Loader Script"),n=i("@digital-garage/dg-commons-library/src/utilities/client/triggerShowMyAccountEvent"),r=i("./service");r.appData.logger=a;try{r.getPageInfo()}catch(e){n(!1),a.error(e)}r.shouldLoadDg().then(()=>{r.loadDG()}).catch(e=>{n(!1),a.info(e)})}}()},{"./ddcService":24,"./service":26,"./utils/currentlyOnLoginDataParserPage":27,"@digital-garage/dg-commons-library/src/models/Logger":5,"@digital-garage/dg-commons-library/src/utilities/client/triggerShowMyAccountEvent":13}],26:[function(e,t,o){"use strict";const a=e("@digital-garage/dg-commons-library/src/utilities/client/isTier3Website"),n=e("@digital-garage/dg-commons-library/src/utilities/client/isTCOM"),s=e("@digital-garage/dg-commons-library/src/utilities/client/makeRequestBrowser"),c=e("@digital-garage/dg-commons-library/src/utilities/isValidDealerCd"),d=e("@digital-garage/dg-commons-library/src/utilities/getLoaderScriptEnvironmentVariables"),r=e("@digital-garage/dg-commons-library/src/utilities/client/triggerShowMyAccountEvent"),i=e("@digital-garage/dg-commons-library/src/constants/appVersionAppNames"),l=e("@digital-garage/dg-commons-library/src/utilities/validateAndCreateGarage"),u=e("@digital-garage/dg-commons-library/src/utilities/client/isLexus"),g=e("@digital-garage/dg-commons-library/src/constants/brands"),p={dgid:"",garageDealerIsGxp:!1,isLoaded:!1,disDealer:{}},w=e=>window.DGDataHub.appVersions&&window.DGDataHub.appVersions[e]&&"latest"!==window.DGDataHub.appVersions[e],h=i=>new Promise((n,r)=>{let e=d.disUrl+i;var t=u()?g.LEXUS:g.TOYOTA;"prod"!==d.deployEnv&&(e+="?stage=true"),c(i)?(t={method:"GET",url:e,headers:[{name:"brand",value:t}]},s(t).then(e=>{let t;try{t=JSON.parse(e.data)}catch(e){return void r("Error parsing JSON received from DIS response"+e.toString())}let o=!1;try{for(const a of t.showDealerLocatorDataArea.dealerMetaData[0].dealerMetaDataDetail[0].additionalService)if(a.code&&"RTI"===a.code.value){o=a.participationIndicator;break}}catch(e){o=!1}e={dealerCd:i,isGxp:o};n(e)}).catch(e=>{r(e)})):n({isGxp:!1})}),m=()=>{var e={method:"GET",url:d.garageUrl,withCredentials:!0,contentType:"application/x-www-form-urlencoded"};return s(e).then(e=>{e=JSON.parse(e.data);if(e.error&&"HAS_NO_ID"===e.error.code)throw e.error;e=l(e.garage);return p.dgid=e.dgid,e}).catch(e=>{throw e})},f=e=>{var t=(e=>{var t=w(e);if(a()&&!t)throw new Error("A version of "+e+" must be specified");return t?window.DGDataHub.appVersions[e]:"latest"})(e);let o;switch(e){case i.dgApp:o=d.libUrl;break;case i.wsApp:o=d.wsUrl;break;case i.dgComponentMain:o=d.compUrl;break;case i.dgSpasMain:o=d.spaUrl;break;default:o=d.libUrl}o=o.replace("{{version}}",t).replace("{{name}}",e),(e=>{const t=window.document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),window.document.body.appendChild(t)})(o)},D=()=>{window.DGDataHub.renderInlineSaves=e=>{if(e){window.DGDataHub.inlineSaveItems||(window.DGDataHub.inlineSaveItems={});for(const t of Object.keys(e))window.DGDataHub.inlineSaveItems[t]=e[t]}},window.DGDataHub.deleteInlineSaveItem=e=>{window.DGDataHub.inlineSaveItems&&window.DGDataHub.inlineSaveItems[e]&&delete window.DGDataHub.inlineSaveItems[e]},window.DGDataHub.deleteInlineSaveItems=e=>{if(0<e.length)for(const t of e)t&&window.DGDataHub.deleteInlineSaveItem(t)}},b=()=>{window.DGDataHub.hasStartedLoadingDG||(window.DGDataHub.hasStartedLoadingDG=!0,f(i.wsApp),f(i.dgComponentMain),n()&&r(!0),window.DGDataHub.hasLoadedDG=!0,D(),w(i.dgSpasMain)&&f(i.dgSpasMain))},y=()=>new Promise((t,o)=>{a()&&t(),h(window.DGDataHub.dealerCd).then(e=>e.isGxp?void t():m()).then(e=>{if(e&&e.activeDealer)return h(e.activeDealer.dealerCd);throw"No Active Dealer Property on Garage"}).then(e=>{e.isGxp?t():o("do not load dg")}).catch(e=>{o(e)})}),v=()=>{},E=e=>{e(),window.DGDataHub.continuePageLoad()},A=e=>(window.DGDataHub.dealerCd=e,y().then(()=>{b()}).catch(e=>{r(!1),p.logger.info(e)})),G=()=>({dgLoaded:p.isLoaded});t.exports={appData:p,getDealerInfo:h,getGarage:m,loadDG:b,shouldLoadDg:y,getPageInfo:()=>{if(!window.DGDataHub)throw new ReferenceError("We cannot detect any valid window.DGDataHub object globally declared on this page. It should be of type object.");if(!window.DGDataHub.hasCalledLoaderGetPageInfo){if(void 0===window.DGDataHub.dealerCd||null===window.DGDataHub.dealerCd||"string"!=typeof window.DGDataHub.dealerCd)throw new ReferenceError("We cannot detect any valid Dealer Code (window.DGDataHub.dealerCd) on this page. It should be of type string.");window.DGDataHub.getDgid=v,window.DGDataHub.showDealerWarning=E,window.DGDataHub.changeActiveDealer=A,window.DGDataHub.getWarningState=G,window.DGDataHub.hasCalledLoaderGetPageInfo=!0}},addInlineSavesFunctionsToDatahub:D}},{"@digital-garage/dg-commons-library/src/constants/appVersionAppNames":1,"@digital-garage/dg-commons-library/src/constants/brands":2,"@digital-garage/dg-commons-library/src/utilities/client/isLexus":9,"@digital-garage/dg-commons-library/src/utilities/client/isTCOM":10,"@digital-garage/dg-commons-library/src/utilities/client/isTier3Website":11,"@digital-garage/dg-commons-library/src/utilities/client/makeRequestBrowser":12,"@digital-garage/dg-commons-library/src/utilities/client/triggerShowMyAccountEvent":13,"@digital-garage/dg-commons-library/src/utilities/getLoaderScriptEnvironmentVariables":17,"@digital-garage/dg-commons-library/src/utilities/isValidDealerCd":18,"@digital-garage/dg-commons-library/src/utilities/validateAndCreateGarage":19}],27:[function(e,t,o){"use strict";const a=window&&window.DGDataHub&&window.DGDataHub.pageRoutes&&window.DGDataHub.pageRoutes.loginDataParserRoute,n=window&&window.location.href;t.exports=()=>a&&n.includes(window.DGDataHub.pageRoutes.loginDataParserRoute)},{}]},{},[25]);
//# sourceMappingURL=dg-loader-app.min.js.map
